{% load static %}
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <!-- Favicon -->
    <link rel="shortcut icon" href="{% static 'img/icons/window_icon_3.png' %}" type="image/x-icon">

    <!-- CSS Personalizado -->
    <link rel="stylesheet" href="{% static 'css/master-style-base.css' %}?v1" />

    <!-- DataTables (Solo la versión Bootstrap) -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/2.0.8/css/dataTables.bootstrap5.css">

    <!-- Responsiveness (Solo una versión) -->
    <link rel="stylesheet" type="text/css"
        href="https://cdn.datatables.net/responsive/3.0.2/css/responsive.bootstrap5.css">

    <!-- Botones para DataTables -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/3.0.2/css/buttons.bootstrap5.css">

    <!-- Scroller (Evita si no lo necesitas, puede causar conflictos) -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/scroller/2.4.3/css/scroller.bootstrap5.css"> <!-- Comentado -->

    <!-- FontAwesome -->
    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <!-- CSS Personalizado (Siempre al final para sobreescribir otros estilos) -->
    <link rel="stylesheet" href="{% static 'css/master-style-base.css'%}?=v1" />

    {% block head %} {% endblock head %}
    <title>{% block title %} {% endblock title %} </title>
</head>

<body>
    <header>
        {% include 'navbar.html' %}
    </header>
    <main>

        {% block contenido %}
        <!-- Contenido de otras Vistas -->
        {% endblock contenido %}
        <!-- 1️⃣ jQuery (Siempre antes de Bootstrap y DataTables) -->
        <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>

        <!-- 2️⃣ Bootstrap Bundle (Incluye Popper.js, no es necesario cargarlo aparte) -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

        <!-- 3️⃣ SweetAlert2 (Para alertas bonitas) -->
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

        <!-- 4️⃣ DataTables (Base + Bootstrap) -->
        <script src="https://cdn.datatables.net/2.0.8/js/dataTables.js"></script>
        <script src="https://cdn.datatables.net/2.0.8/js/dataTables.bootstrap5.js"></script>

        <!-- 5️⃣ Responsiveness (Solo una versión, sin Bootstrap extra) -->
        <script src="https://cdn.datatables.net/responsive/3.0.2/js/dataTables.responsive.js"></script>

        <!-- 6️⃣ Botones -->
        <script src="https://cdn.datatables.net/buttons/3.0.2/js/dataTables.buttons.js"></script>
        <script src="https://cdn.datatables.net/buttons/3.0.2/js/buttons.bootstrap5.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
        <script src="https://cdn.datatables.net/buttons/3.0.2/js/buttons.html5.min.js"></script>
        <script src="https://cdn.datatables.net/buttons/3.0.2/js/buttons.print.min.js"></script>
        <script src="https://cdn.datatables.net/buttons/3.0.2/js/buttons.colVis.min.js"></script>

        <!-- 7️⃣ Scroller (Descomentar solo si es necesario) -->
        <script src="https://cdn.datatables.net/scroller/2.4.3/js/dataTables.scroller.js"></script>
        <script src="https://cdn.datatables.net/scroller/2.4.3/js/scroller.bootstrap5.js"></script>


        <!-- 8️⃣ Scripts personalizados -->
        <script src="{% static 'js/utils/alerts.js' %}"></script>
        <script src="{% static 'js/utils/handle_messages.js' %}"></script>

        <!-- 9️⃣ Contenedor de mensajes (Debe estar al final) -->
        <div
            id="messages-container" style="display:none;" data-messages='[
            {% for message in messages %}
                {"message": "{{ message|escapejs }}", "tags": "{{ message.tags }}"}{% if not forloop.last %},{% endif %}
            {% endfor %}
            ]'>
        </div>

        {% block javascript %}{% endblock javascript %}

</body>

</html>